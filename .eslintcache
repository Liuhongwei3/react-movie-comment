[{"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\App.js":"1","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\index.js":"2","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\Home.jsx":"3","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\utils.js":"4","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\api\\index.js":"5","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\user\\User.jsx":"6","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\user\\UserReg.jsx":"7","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\user\\UserLogin.jsx":"8","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\movie\\MovieDetail.jsx":"9","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\admin\\AdminLogin.jsx":"10","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\admin\\Admin.jsx":"11","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\admin\\AdminUser.jsx":"12","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\admin\\AdminMovie.jsx":"13","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\admin\\AdminComment.jsx":"14"},{"size":2469,"mtime":1608984295473,"results":"15","hashOfConfig":"16"},{"size":197,"mtime":1608967768630,"results":"17","hashOfConfig":"16"},{"size":1554,"mtime":1608971591794,"results":"18","hashOfConfig":"16"},{"size":1367,"mtime":1608967941066,"results":"19","hashOfConfig":"16"},{"size":866,"mtime":1608968004103,"results":"20","hashOfConfig":"16"},{"size":3298,"mtime":1608983317939,"results":"21","hashOfConfig":"16"},{"size":2026,"mtime":1608983530459,"results":"22","hashOfConfig":"16"},{"size":1603,"mtime":1608983514660,"results":"23","hashOfConfig":"16"},{"size":4142,"mtime":1608983384310,"results":"24","hashOfConfig":"16"},{"size":1571,"mtime":1608983850961,"results":"25","hashOfConfig":"16"},{"size":522,"mtime":1608984175335,"results":"26","hashOfConfig":"16"},{"size":5016,"mtime":1608993448197,"results":"27","hashOfConfig":"16"},{"size":7314,"mtime":1608989828921,"results":"28","hashOfConfig":"16"},{"size":2895,"mtime":1608987993490,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1ozxa8d",{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60"},"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\App.js",[],"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\index.js",[],["61","62"],"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\Home.jsx",[],"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\utils.js",[],"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\api\\index.js",[],"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\user\\User.jsx",["63","64"],"import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport doReq from \"../../api/doReq\";\r\n\r\nconst User = () => {\r\n    const history = useHistory();\r\n    const [userName, setUserName] = React.useState(\"\");\r\n    const [userInfo, setUserInfo] = React.useState({\r\n        userName: \"\",\r\n        userSex: \"\",\r\n    });\r\n    const [comments, setComments] = React.useState([]);\r\n\r\n    const getUserInfo = async () => {\r\n        if (!userName) return;\r\n        const { data: data1 } = await doReq(\r\n            `/user/selectUserByName?userName=${userName}`\r\n        );\r\n        setUserInfo(data1[0]);\r\n\r\n        const { data: data2 } = await doReq(\r\n            `/comment/selectCommentPageByUName?commentUName=${userName}`\r\n        );\r\n        setComments(data2);\r\n    };\r\n\r\n    const logOut = () => {\r\n        // eslint-disable-next-line no-restricted-globals\r\n        if (confirm(\"确定要退出当前用户吗？\") === true) {\r\n            setUserInfo({\r\n                userName: \"\",\r\n                userSex: \"\",\r\n            });\r\n            window.sessionStorage.removeItem(\"userName\");\r\n            setUserName(\"\");\r\n\r\n            history.push(\"/\");\r\n        }\r\n    };\r\n\r\n    const doDelete = async (id) => {\r\n        // eslint-disable-next-line no-restricted-globals\r\n        if (confirm(\"确定要删除该条评论吗？该操作不可撤销！\") === true) {\r\n            let { data } = await doReq(\r\n                `/comment/deleteCommentById?commentId=${id}`\r\n            );\r\n            if (data) {\r\n                alert(`success 删除评论成功!`);\r\n                getUserInfo();\r\n            } else {\r\n                alert(\"error 删除评论失败，请稍候重试！\");\r\n            }\r\n        }\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        let uname = window.sessionStorage.getItem(\"userName\");\r\n        if (uname) {\r\n            setUserName(uname);\r\n        } else {\r\n            alert(\"warning 您还未登录，请先登录！(2s 后跳转至登录界面)\");\r\n            setTimeout(() => history.push(\"/userLogin\"), 2000);\r\n        }\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        getUserInfo();\r\n    }, [userName]);\r\n\r\n    return (\r\n        <div>\r\n            <h2>User Center</h2>\r\n            <ul>\r\n                <li>用户名：{userInfo.userName}</li>\r\n                <li>性别：{userInfo.userSex}</li>\r\n                {userName.length && (\r\n                    <li>\r\n                        <button onClick={logOut}>退出</button>\r\n                    </li>\r\n                )}\r\n            </ul>\r\n            <hr />\r\n            <h2>我的评论</h2>\r\n            {comments.map((item) => {\r\n                return (\r\n                    <div key={item.commentId}>\r\n                        <span>{item.commentUName}</span>\r\n                        <span>\r\n                            {\" \"}\r\n                            --- {item.commentTime} ---{\" \"}\r\n                            <button onClick={() => doDelete(item.commentId)}>\r\n                                删除该条评论\r\n                            </button>\r\n                        </span>\r\n                        <h4>{item.commentContent}</h4>\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default User;\r\n","C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\user\\UserReg.jsx",[],"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\user\\UserLogin.jsx",["65"],"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\movie\\MovieDetail.jsx",["66"],"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\admin\\AdminLogin.jsx",["67"],"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\admin\\Admin.jsx",[],"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\admin\\AdminUser.jsx",["68"],"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\admin\\AdminMovie.jsx",["69"],"C:\\Users\\28731\\Desktop\\ssm_movie_comment\\react-project\\src\\pages\\admin\\AdminComment.jsx",["70"],"import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport doReq from \"../../api/doReq\";\r\n\r\nconst AdminComment = () => {\r\n    const history = useHistory();\r\n    const [adminName, setAdminName] = React.useState(\"\");\r\n    const [allComments, setAllComments] = React.useState([]);\r\n\r\n    const reqAllComments = async () => {\r\n        let { data } = await doReq(\"/comment/queryCommentPage\");\r\n        setAllComments(data);\r\n    };\r\n\r\n    const doDelete = async (id) => {\r\n        // eslint-disable-next-line no-restricted-globals\r\n        if (confirm(\"确定删除该评论？此操作不可撤销！\") === true) {\r\n            let { data } = await doReq(`/comment/deleteCommentById?commentId=${id}`);\r\n\r\n            if (data) {\r\n                alert(`success 删除评论成功!`);\r\n                reqAllComments();\r\n            } else {\r\n                alert(\"error 删除评论失败，请稍候重试！\");\r\n            }\r\n        }\r\n    };\r\n\r\n    React.useEffect(() => {\r\n        const aName = window.sessionStorage.getItem(\"adminName\");\r\n        if (aName) {\r\n            setAdminName(aName);\r\n            reqAllComments();\r\n        } else {\r\n            alert(\"warning 您还未登录，请先登录！\");\r\n            history.push(\"/adminLogin\");\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <h2>Admin Comment-Manage Cnter</h2>\r\n            <h3>&gt;&gt;&gt; Hello \" {adminName} \"</h3>\r\n            <table border=\"1\">\r\n                <thead>\r\n                    <tr>\r\n                        <th className=\"t-id\">ID</th>\r\n                        <th className=\"t-id\">电影ID</th>\r\n                        <th>评论者</th>\r\n                        <th>内容</th>\r\n                        <th>时间</th>\r\n                        <th>操作</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {allComments.map((item) => {\r\n                        return (\r\n                            <tr key={item.commentId}>\r\n                                <td className=\"t-id\">{item.commentId}</td>\r\n                                <td className=\"t-id\">{item.commentVId}</td>\r\n                                <td>{item.commentUName}</td>\r\n                                <td>{item.commentContent}</td>\r\n                                <td>{item.commentTime}</td>\r\n                                <td>\r\n                                    <button\r\n                                        onClick={() => doDelete(item.movieId)}\r\n                                    >\r\n                                        删除\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        );\r\n                    })}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminComment;\r\n",{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":65,"column":8,"nodeType":"77","endLine":65,"endColumn":10,"suggestions":"78"},{"ruleId":"75","severity":1,"message":"79","line":69,"column":8,"nodeType":"77","endLine":69,"endColumn":18,"suggestions":"80"},{"ruleId":"81","severity":1,"message":"82","line":19,"column":21,"nodeType":"83","messageId":"84","endLine":19,"endColumn":23},{"ruleId":"75","severity":1,"message":"85","line":78,"column":8,"nodeType":"77","endLine":78,"endColumn":10,"suggestions":"86"},{"ruleId":"81","severity":1,"message":"82","line":19,"column":32,"nodeType":"83","messageId":"84","endLine":19,"endColumn":34},{"ruleId":"75","severity":1,"message":"76","line":80,"column":8,"nodeType":"77","endLine":80,"endColumn":10,"suggestions":"87"},{"ruleId":"75","severity":1,"message":"76","line":110,"column":8,"nodeType":"77","endLine":110,"endColumn":10,"suggestions":"88"},{"ruleId":"75","severity":1,"message":"76","line":39,"column":8,"nodeType":"77","endLine":39,"endColumn":10,"suggestions":"89"},"no-native-reassign",["90"],"no-negated-in-lhs",["91"],"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["92"],"React Hook React.useEffect has a missing dependency: 'getUserInfo'. Either include it or remove the dependency array.",["93"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","React Hook React.useEffect has a missing dependency: 'getMovie'. Either include it or remove the dependency array.",["94"],["95"],["96"],["97"],"no-global-assign","no-unsafe-negation",{"desc":"98","fix":"99"},{"desc":"100","fix":"101"},{"desc":"102","fix":"103"},{"desc":"98","fix":"104"},{"desc":"98","fix":"105"},{"desc":"98","fix":"106"},"Update the dependencies array to be: [history]",{"range":"107","text":"108"},"Update the dependencies array to be: [getUserInfo, userName]",{"range":"109","text":"110"},"Update the dependencies array to be: [getMovie]",{"range":"111","text":"112"},{"range":"113","text":"108"},{"range":"114","text":"108"},{"range":"115","text":"108"},[1958,1960],"[history]",[2026,2036],"[getUserInfo, userName]",[2464,2466],"[getMovie]",[2433,2435],[3524,3526],[1207,1209]]